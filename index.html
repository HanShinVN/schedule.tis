<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIS| ƒêƒÉng K√Ω ƒêi C√¥ng T√°c</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="loadingOverlay" class="d-none">
        <div class="spinner-border text-light" role="status" style="width: 3rem; height: 3rem;"></div>
        <div class="mt-3 fw-bold text-white fs-5">ƒêang x·ª≠ l√Ω...</div>
    </div>

    <div id="successOverlay" class="d-none">
        <div class="success-card text-center fade-in">
            <div class="mb-3">
                <i class="bi bi-check-circle-fill text-success" style="font-size: 4rem;"></i>
            </div>
            <h4 class="fw-bold text-success mb-2">ƒêƒÉng k√Ω th√†nh c√¥ng!</h4>
            <p class="fs-5 text-muted mb-4">Ch√∫c b·∫°n th∆∞·ª£ng l·ªô b√¨nh an üöó‚úàÔ∏è</p>
            
            <div class="alert alert-light border border-secondary border-opacity-25 d-inline-block px-4 py-2 mb-4">
                T·ª± ƒë·ªông t·∫£i l·∫°i trang sau <strong class="text-danger" id="countdown">5</strong> gi√¢y
            </div>
            <br>
            <button onclick="location.reload()" class="btn btn-primary px-4 py-2 rounded-pill fw-bold shadow-sm">
                <i class="bi bi-arrow-clockwise me-2"></i> T·∫£i l·∫°i ngay
            </button>
        </div>
    </div>

    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-lg-6 col-md-8">
                
                <div class="text-center mb-4 fade-in">
                    <img src="logo.png" alt="T1S Logo" class="img-fluid mb-3" style="max-height: 80px;">
                    <h5 class="text-uppercase fw-bold text-secondary mb-3">C·ªïng ƒêƒÉng K√Ω L·ªãch C√¥ng T√°c</h5>
                    
                    <a href="calendar.html" class="btn btn-outline-primary btn-sm rounded-pill px-3">
                        <i class="bi bi-list-ul me-1"></i> Xem L·ªãch Tr√¨nh ƒê√£ ƒêƒÉng K√Ω
                    </a>
                    </div>

                <div class="card shadow-lg border-0 fade-in">
                    <div class="card-header bg-white border-0 pt-4 px-4 pb-0">
                        <div class="alert alert-light border-start border-4 border-danger shadow-sm mb-0">
                            <small class="text-muted">
                                <i class="bi bi-info-circle-fill text-danger"></i> 
                                Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin ƒë·ªÉ h·ªá th·ªëng t√≠nh to√°n l·ªô tr√¨nh v√† ghi nh·∫≠n.
                            </small>
                        </div>
                    </div>

                    <div class="card-body p-4">
                        <form id="tripForm">
                            
                            <div class="row g-3 mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">H·ªç v√† t√™n <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="fullName" placeholder="Nguy·ªÖn VƒÉn A" required>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Ph√≤ng ban <span class="text-danger">*</span></label>
                                    <select class="form-select" id="department" required>
                                        <option value="" disabled selected>Ch·ªçn ph√≤ng ban...</option>
                                        <option value="BGƒê">Ban Gi√°m ƒê·ªëc</option>
                                        <option value="H√†ng H·∫£i">H√†ng H·∫£i</option>
                                        <option value="Phi H√†ng H·∫£i">Phi H√†ng H·∫£i</option>
                                        <option value="Phi H√†ng H·∫£i - SK">B·∫£o Hi·ªÉm S·ª©c Kh·ªèe</option>
                                        <option value="Ph√°t tri·ªÉn kinh doanh">Ph√°t Tri·ªÉn Kinh Doanh</option>
                                        <option value="H√†ng H·∫£i">H·ªó tr·ª£ Kinh Doanh</option>
                                        <option value="K·∫ø to√°n T·ªïng h·ª£p">K·∫ø To√°n T·ªïng h·ª£p</option>

                                    </select>
                                </div>
                            </div>

                            <div class="row g-3 mb-3">
                                <div class="col-md-12">
                                    <label class="form-label">Ph∆∞∆°ng ti·ªán <span class="text-danger">*</span></label>
                                    <select class="form-select" id="transport" required>
                                        <option value="" disabled selected>Ch·ªçn ph∆∞∆°ng ti·ªán...</option>
                                        <option value="√î t√¥">√î t√¥</option>
                                        <option value="M√°y bay">M√°y bay</option>
                                        <option value="Kh√°c">Kh√°c (Taxi, Grab...)</option>
                                    </select>
                                </div>
                            </div>

                            <div class="mb-3 d-none" id="carOwnerGroup">
                                <label class="form-label">Xe c·ªßa ai? <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="carOwner" placeholder="VD: Xe c√¥ng ty, Xe S·∫øp A...">
                            </div>

                            <hr class="text-muted opacity-25">

                            <div class="row g-3 mb-3">
                                <div class="col-6 col-md-4">
                                    <label class="form-label">Ng√†y ƒëi <span class="text-danger">*</span></label>
                                    <input type="date" class="form-control" id="startDate" required>
                                </div>
                                <div class="col-6 col-md-4">
                                    <label class="form-label">Gi·ªù ƒëi <span class="text-danger">*</span></label>
                                    <input type="time" class="form-control" id="startTime" required>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">S·ªë ng√†y</label>
                                    <div class="input-group">
                                        <button class="btn btn-outline-secondary" type="button" onclick="adjustDays(-0.5)">-</button>
                                        <input type="number" class="form-control text-center" id="days" value="1" min="0.5" step="0.5" required>
                                        <button class="btn btn-outline-secondary" type="button" onclick="adjustDays(0.5)">+</button>
                                    </div>
                                </div>
                            </div>

                            <div id="scheduleAlert" class="alert d-none mb-3 py-2 text-center small fw-bold"></div>

                            <div class="mb-3">
                                <label class="form-label">ƒêi·ªÉm ƒë·∫øn c√¥ng t√°c <span class="text-danger">*</span></label>
                                <div class="input-group">
                                    <span class="input-group-text bg-white text-danger"><i class="bi bi-geo-alt-fill"></i></span>
                                    <input type="text" id="destination" class="form-control" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ c·ª• th·ªÉ..." required>
                                    <button type="button" id="btnMeasure" class="btn btn-dark text-nowrap">
                                        <i class="bi bi-magic"></i> ƒêo KM
                                    </button>
                                </div>
                                <div class="form-text">B·∫Øt bu·ªôc nh·∫•n "ƒêo KM" tr∆∞·ªõc khi g·ª≠i.</div>
                            </div>

                            <div class="row g-3 mb-3 p-3 bg-light rounded-3 mx-0 border">
                                <div class="col-6">
                                    <label class="small text-muted text-uppercase fw-bold">Kho·∫£ng c√°ch</br>(D·ª± Ki·∫øn)</label>
                                    <div class="fs-5 fw-bold text-danger" id="kmDisplay">0 km</div>
                                    <input type="hidden" id="km">
                                </div>
                                <div class="col-6 border-start">
                                    <label class="small text-muted text-uppercase fw-bold">Th·ªùi gian di chuy·ªÉn</br>(D·ª± Ki·∫øn)</label>
                                    <div class="fs-5 fw-bold text-success" id="durationDisplay">0 ph√∫t</div>
                                    <input type="hidden" id="duration">
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">ƒêi c√¥ng t√°c v·ªõi ai (n·∫øu c√≥)</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-white"><i class="bi bi-people-fill"></i></span>
                                    <input type="text" class="form-control" id="companions" placeholder="Nh·∫≠p t√™n ng∆∞·ªùi ƒëi c√πng...">
                                </div>
                            </div>

                            <button class="btn btn-primary w-100 py-3 fw-bold text-uppercase shadow-sm" id="btnSubmit">
                                <i class="bi bi-send-check-fill me-2"></i> G·ª≠i ƒêƒÉng K√Ω
                            </button>
                        </form>
                    </div>
                </div>
                
                <div class="text-center mt-4 text-muted small">
                    &copy; 2026 TIS Insurance Broker. Internal System.
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        function adjustDays(delta) {
            const input = document.getElementById('days');
            let val = parseFloat(input.value) || 0;
            val += delta;
            if(val < 0.5) val = 0.5;
            input.value = val;
            input.dispatchEvent(new Event('change'));
        }
        document.addEventListener('DOMContentLoaded', () => {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('startDate').setAttribute('min', today);
        });
    </script>
</body>
</html>
